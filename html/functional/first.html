<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script>
    // 순수 함수
    function add(a, b) {
      return a + b;
    }

    console.log(add(10, 5));
    console.log(add(10, 5));
    console.log(add(10, 5));

    // 순수 함수가 아니다.
    let c = 10;
    function add2(a, b) {
      return a + b + c;
    }

    console.log(add2(10, 2));
    console.log(add2(10, 3));
    console.log(add2(10, 4));
    c = 40;
    console.log(add2(10, 2));
    console.log(add2(10, 3));
    console.log(add2(10, 4));

    // 순수 함수가 아니다. 부수 효과가 있다. return 외에 외부 상태에 관여를 하고 있다.
    function add3(a, b) {
      c = b;
      return a + b;
    }

    console.log('c : ', c);
    console.log(add3(20, 30));
    console.log('c : ', c);

    // 순수 함수가 아니다. 넘어온 인자의 상태를 직접 변경하고 있다.
    // 객체를 직접 변경하는 것이 아닌, 객체의 값을 다른 방법을 통해 변경해나간다.
    let obj1 = {val: 10};
    function add4(obj, b) {
      obj.val += b;
    }

    console.log(obj1.val);
    add4(obj1, 20);
    console.log(obj1.val);

    // 순수 함수
    obj1 = {val: 10};

    function add5(obj, b) {
      return {val: obj.val + b};
    }

    console.log('add5 obj1 : ', obj1.val);
    let obj2 = add5(obj1, 20);
    console.log('add5 obj1 : ', obj1.val);
    console.log(obj2.val);

    // 일급 함수 : 변수에도 담을 수 있는 함수 - 자바스크립트의 특징
    let f1 = function (a) {
      return a * a;
    };
    console.log(f1);

    let f2 = add();
    console.log(f2);

    function f3(f) {
      return f();
    }

    console.log(f3(function () {
      return 10;
    }));

    // add Maker
    function add_maker(a) {
      return function (b) {
        return a + b;
      };
    }

    let add10 = add_maker(10);
    console.log(add10(20));
    let add50 = add_maker(50);
    let add15 = add_maker(15);
    console.log(add50(10));
    console.log(add15(10));

  </script>
</head>
<body>

</body>
</html>
